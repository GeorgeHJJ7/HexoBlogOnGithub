---
title: MySQL索引
tags: 
 - MySQL
 - 索引
 - 数据库
reward: true
---

数据库编程几乎是每个程序员必须掌握的一项技能。

仅管我们不需要像DBA一样“360度花样玩转数据库”，但了解甚至熟知数据库的存储和索引原理仍然是关系型数据库的最常见的优化手段。本文以MySQL为例，以索引为中心，涉及了MySQL基本的存储原理；讨论主要基于InnoDB和MyISAM存储引擎。

<!--more-->

## 索引

### 索引的原理

网上关于索引基本原理的链接非常多，这里不细讲。你可以把索引当做一个“hash表”（实际上是`B+树`，时间复杂度虽然更高，但更有利于数据库内存、磁盘间IO的优化），其中：

* `key`为`索引值`  
* `value`为该`索引值`所在行的`主键`/`行号`的列表  
* 可能存在多个索引，也就存在多个这样的“hash表”  

不管是hash表还是B+树，在索引上的查询复杂度都远低于线性扫描的O(n)。因此，创建索引最直接的作用便是加速查询。

至于为什么是B-Tree，不是红黑树，感兴趣的同学可以参考[为什么要用B+树结构——MySQL索引结构的实现](http://database.51cto.com/art/201504/473322_all.htm)  ，主要是考虑内存、磁盘间的IO成本。

### InnoDB 与 MyISAM 结构上的区别

>参考：  
[为什么要用B+树结构——MySQL索引结构的实现](http://database.51cto.com/art/201504/473322_all.htm)  
[2014阿里实习生面试题——mysql如何实现索引的](http://m.2cto.com/database/201404/295109.html)  

## 一次非典型的索引优化案例

### 问题

### 解决方案

### 验证

## 一次典型的索引优化案例

### 问题

### 解决方案

### 验证

---


>参考：  
[MySQL索引原理及慢查询优化](http://tech.meituan.com/mysql-index.html)  
